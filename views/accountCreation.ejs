<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>MobaCloud</title>
        <meta name="description" content="MobaCloud">
        <meta name="theme-color" content="#142a40">
        <meta name="msapplication-navbutton-color" content="#142a40">
        <meta name="apple-mobile-web-app-status-bar-style" content="#142a40">
        <link href="/css/login.css%>" rel="stylesheet"><!--BRISI OVO U LIVE-->
        <!--<link href="/html-modules/minified/style.min.css?ver=" rel="stylesheet">-->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        <link rel="shortcut icon" href="/favicon.png" type="image/x-icon" />
        <meta property="og:title" content="MobaCloud" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://operators.modeller.cloud" />
        <meta property="og:site_name" content="MobaCloud" />
        <meta property="og:description" content="MobaCloud" />
        <meta property="og:image" content="MobaCloud" />
    </head>
    <body>
        <!--Version 2-->
        <div class="background" style="background-image:url('<%=bucket%>/images/Mobatec-Home-Banner-Background.jpeg'"></div>
        <div class="header">
            <img src="<%=bucket%>/images/Mobatec-White-Logo.svg" width="150">
        </div>
        <div class="content">
            <div style="text-align:center;">
                <img src="<%=bucket%>/images/Mobatec-Modeller-White.svg" width="150">
            </div>
            <div class="screenshotsWrap">
                <div class="screenshotWrap">
                    <img src="<%=bucket%>/images/MM-Screenshots-1.jpg" class="screenshot">
                </div>
                <div class="screenshotWrap">
                    <img src="<%=bucket%>/images/MM-Screenshots-2.jpg" class="screenshot">
                </div>
                <div class="screenshotWrap">
                    <img src="<%=bucket%>/images/MM-Screenshots-6.jpg" class="screenshot">
                </div>
                <div class="screenshotWrap">
                    <img src="<%=bucket%>/images/MM-Screenshots-7.jpg" class="screenshot">
                </div>
                <div class="screenshotWrap">
                    <img src="<%=bucket%>/images/MM-Screenshots-10.jpg" class="screenshot">
                </div>
            </div>
            <div class="formWrapper">
                <div class="topWrap">
                    <div class="left"></div>
                    <div class="middle"></div>
                    <div class="right"></div>
                </div>
                <div class="form"  style="padding-bottom:20px;">
                    <div class="title">The provided code was properly activated. Please fill out the username and password you will use to log into the system:</div>
                    <form method="POST" action="/accountCreation" id="form" style="padding-top:20px;">
                        <div class="inputsWrap">
                            <div class="inputWrap">
                                <input type="text" placeholder="Username" name="username" id="username">
                            </div>
                            <div class="inputWrap">
                                <input type="password" placeholder="Password" name="password" id="password">
                            </div>
                            <div class="inputWrap">
                                <input type="password" placeholder="Password again" name="password" id="password2">
                            </div>
                            <input type="text" id="json" style="display:none" name="json">
                        </div>
                        

                    </form>
                    <div style="text-align:center;margin-top:20px">
                        <div class="submitButton" onclick="submitForm()">Create account</div>
                    </div>
                    <script>
                        function isEmail(str) {
                            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                            return regex.test(str);
                        }
                        function isStrongPassword(password) {
                            // Minimum 8 characters, at least one uppercase, one lowercase, one number, and one special character
                            const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
                            return regex.test(password);
                        }
                        function submitForm(){
                            var username = document.getElementById("username").value;
                            var password = document.getElementById("password").value;
                            var password2 = document.getElementById("password2").value;
                            if(!isEmail(username)){
                                alert("Username must be a vaild email address");
                                return;
                            }

                            if(password!=password2){
                                alert("Passwords dont match.");
                                return;
                            }

                            if(!isStrongPassword(password)){
                                alert("Your password is not strong enough. Minimum 8 characters, at least one uppercase, one lowercase, one number, and one special character");
                                return;
                            }

                            var json = {};
                            json.code = "<%=code%>";
                            json.username = username;
                            json.password = password;
                            json.password2 = password2;
                            document.getElementById("json").value = JSON.stringify(json);
                            document.getElementById("form").submit();
                        }
                    </script>
                </div>
            </div>
        </div>
        <div class="footer">
            Copyright &#169; 2025, Mobatec<br>KVK: 1408 4360<br>BTW: NL 8142.56.041.B01
        </div>
        <script>
            document.getElementById('password').onkeypress = function(e){
                if (!e) e = window.event;
                var keyCode = e.code || e.key;
                if (keyCode == 'Enter'){
                  document.getElementById('form').submit()
                }
              }
        </script>
    </body>
</html>